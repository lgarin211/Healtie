<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barcode Scanner with @justinribeiro/barcode-reader</title>
</head>

<body>
    <h1>Barcode Scanner with @justinribeiro/barcode-reader</h1>
    <!-- Include the barcode-reader component in your HTML -->
    <barcode-reader></barcode-reader>

    <!-- input import 'barcode-reader'; -->
    <script type="module" src="./node_modules/@justinribeiro/barcode-reader/barcode-reader.js"></script>
    <script>
        customElements.whenDefined('barcode-reader').then(() => {
            const barcodeReader = document.querySelector('barcode-reader');
            // start the camera stream
            // always looks for
            // facingMode: {
            //   exact: 'environment',
            // }
            barcodeReader.start();

            // component returns a custom event with results
            document.addEventListener('barcodes-found', (event) => {
                console.log(event.detail.barcodes);

                // if you want to stop streaming, ala, I'm hiding you now
                barcodeReader.stop();
            }, false);
        });
    </script>
</body>

</html>